# 康托展开

## # 问题描述

康托展开主要是求1～n的全排列中，某一个排列的排名k

### 解法思路

1.主要就是从高到低，确定比当前小的数，然后按位依次累加

2.关键点，相同的前缀，第k位的数字，可选 比自己小且前面没出现的数字，同时ck1 \* k!  就是相同前缀，比第k位小的数有多少个。

如 25341

第一位比2小的数只有1 所以，有1\*4!

第二位为5，前面是2，所以比5小的数有 1 2 3 4，但2在前面出现过，当前位置可选1 3 4，同时还剩三位，总共有3\*3！

依次类推，直到倒数第二位确认即可。

### # 反向问题 逆康托展开

求全排列中，第k个序的排列

反向展开，一样道理，首先确认高位的第一个数字为多少，怎么确认？看后面的4！对于k来讲能被整除多少次，为了真实确认当前该位是多少，其实就是求，有多少个4！，我们直接 用 (k+ 4!- 1)/4!即可得到 k应该是几，然后 k = k%4！得到剩余的数，如果剩余数为0，说明是周期的最大值，直接倒序排列即可，如果不为0，继续上一步操作。

可以看一个leetcode例题：

[https://leetcode.cn/problems/permutation-sequence/description/](https://leetcode.cn/problems/permutation-sequence/description/)&#x20;

